{"version":3,"file":"app~49ea73a0.bundle.js","mappings":"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","sources":["webpack://submission-3/./src/scripts/components/restaurant-item.js","webpack://submission-3/./src/scripts/components/restaurant-list.js","webpack://submission-3/./src/scripts/data/favorite-restaurants-idb.js","webpack://submission-3/./src/scripts/globals/api-endpoint.js","webpack://submission-3/./src/scripts/data/resto-source.js","webpack://submission-3/./src/scripts/globals/config.js","webpack://submission-3/./src/scripts/index.js"],"sourcesContent":["import CONFIG from '../globals/config';\r\nimport getColor from '../services/colorService';\r\n\r\nclass RestaurantItem extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: 'open' });\r\n  }\r\n\r\n  set restaurant(item) {\r\n    this._item = item;\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    this.shadowRoot.innerHTML = `\r\n        <style>\r\n            :host {\r\n                position: relative;\r\n                background-color: #1C6758;\r\n                border-radius: 20px;\r\n                box-shadow: 3px 7px 16px -4px rgba(0,0,0,0.7);\r\n                margin: 10%;\r\n            }\r\n            :host img{\r\n                height: 300px;\r\n                width: 100%;\r\n                object-fit: cover;\r\n            }\r\n            .info {\r\n                color: #EEF2E6;\r\n                padding: 15px;\r\n            }\r\n            .city {\r\n                position: absolute;\r\n                top: 0;\r\n                margin-top: 10px;\r\n                padding: 10px;\r\n                color: #1C6758;\r\n                font-weight: bold;\r\n                border-radius: 10px;\r\n                background-color: #D6CDA4;\r\n                box-shadow: -1px 7px 19px -4px rgba(0,0,0,0.7);\r\n            }\r\n            .rating {\r\n                font-size: 20px;\r\n                margin-bottom: 15px;\r\n                font-weight: bold;\r\n            }\r\n            \r\n            .rating .angka-rating {\r\n                background-color: #3D8361;\r\n                padding: 10px;\r\n                border-radius: 10px;\r\n                margin-left: 10px;\r\n                box-shadow: 2px 9px 30px -9px rgba(0,0,0,0.64);\r\n            }\r\n            \r\n            :host h3 a{\r\n                color: #D6CDA4;\r\n                text-decoration: none;\r\n            }\r\n            \r\n            :host h3 {\r\n                font-size: 25px;\r\n                margin: 20px 0;\r\n            }\r\n            .desc {\r\n                line-height: 25px;\r\n                max-height: 200px;\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n                display: -webkit-box;\r\n                -webkit-line-clamp: 4; /* number of lines to show */\r\n                -webkit-box-orient: vertical;\r\n            }\r\n            .green {\r\n                color: lightgreen;\r\n            }\r\n            .orange {\r\n                color: orange;\r\n            }\r\n            .red {\r\n                color: red;\r\n            }\r\n        </style>\r\n\r\n            <img src=\"${CONFIG.BASE_IMG_URL}small/${this._item.pictureId}\" alt=\"${this._item.name || '-'}\">\r\n            <div class=\"info\">\r\n                <p class=\"city\">${this._item.city}</p>\r\n                <div class=\"rating\">Rating <span class=\"angka-rating ${getColor(this._item.rating)}\">${this._item.rating}</span></div>\r\n                <h3 class=\"restaurant__title\"><a href=\"/#/detail/${this._item.id}\">${this._item.name}</a></h3>\r\n                <div class=\"desc\"><p>${this._item.description || '-'}</p></div>\r\n            </div>\r\n        \r\n        `;\r\n  }\r\n}\r\n\r\ncustomElements.define('restaurant-item', RestaurantItem);\r\n","import './restaurant-item';\r\n\r\nclass RestaurantList extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: 'open' });\r\n  }\r\n\r\n  set restaurants(restaurants) {\r\n    this._restaurants = restaurants;\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    this.shadowRoot.innerHTML = `\r\n            <style>\r\n                :host {\r\n                    display: grid;\r\n                    grid-template-columns: 1fr 1fr 1fr;\r\n                }\r\n            </style>\r\n        `;\r\n    this._restaurants.forEach((item) => {\r\n      const restaurantItem = document.createElement('restaurant-item');\r\n      restaurantItem.restaurant = item;\r\n      this.shadowRoot.appendChild(restaurantItem);\r\n    });\r\n  }\r\n}\r\n\r\ncustomElements.define('restaurant-list', RestaurantList);\r\n","import { openDB } from 'idb';\r\nimport CONFIG from '../globals/config';\r\n\r\nconst { DATABASE_NAME, DATABASE_VERSION, OBJECT_STORE_NAME } = CONFIG;\r\n\r\nconst dbPromise = openDB(DATABASE_NAME, DATABASE_VERSION, {\r\n  upgrade(database) {\r\n    database.createObjectStore(OBJECT_STORE_NAME, { keyPath: 'id' });\r\n  },\r\n});\r\n\r\nconst FavoriteRestaurantsIdb = {\r\n  async getRestaurant(id) {\r\n    if (!id) {\r\n      return;\r\n    }\r\n    return (await dbPromise).get(OBJECT_STORE_NAME, id);\r\n  },\r\n  async getAllRestaurant() {\r\n    return (await dbPromise).getAll(OBJECT_STORE_NAME);\r\n  },\r\n  async putRestaurant(restaurant) {\r\n    if (!restaurant.hasOwnProperty('id')) {\r\n      return;\r\n    }\r\n    return (await dbPromise).put(OBJECT_STORE_NAME, restaurant);\r\n  },\r\n  async deleteRestaurant(id) {\r\n    return (await dbPromise).delete(OBJECT_STORE_NAME, id);\r\n  },\r\n\r\n  async searchRestaurant(query) {\r\n    return (await this.getAllRestaurant()).filter((restaurant) => {\r\n      const loweredCaseRestaurantName = (restaurant.name || '-').toLowerCase();\r\n      const jammedRestaurantTitle = loweredCaseRestaurantName.replace(/\\s/g, '');\r\n      const loweredCaseQuery = query.toLowerCase();\r\n      const jammedQuery = loweredCaseQuery.replace(/\\s/g, '');\r\n      return jammedRestaurantTitle.indexOf(jammedQuery) !== -1;\r\n    });\r\n  },\r\n};\r\n\r\nexport default FavoriteRestaurantsIdb;\r\n","import CONFIG from './config';\r\n\r\nconst API_ENDPOINT = {\r\n  LIST_RESTAURANT: `${CONFIG.BASE_URL}list`,\r\n  DETAIL: (id) => `${CONFIG.BASE_URL}detail/${id}`,\r\n  REVIEW: `${CONFIG.BASE_URL}review`,\r\n};\r\n\r\nexport default API_ENDPOINT;\r\n","import API_ENDPOINT from '../globals/api-endpoint';\r\n\r\nclass RestaurantDataSource {\r\n  static async listRestaurant() {\r\n    const response = await fetch(API_ENDPOINT.LIST_RESTAURANT);\r\n    const responseJson = await response.json();\r\n    return responseJson.restaurants;\r\n  }\r\n\r\n  static async detailRestaurant(id) {\r\n    const response = await fetch(API_ENDPOINT.DETAIL(id));\r\n    const responseJson = await response.json();\r\n    return responseJson.restaurant;\r\n  }\r\n\r\n  static async newReview(review) {\r\n    const option = {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(review),\r\n    };\r\n    await fetch(API_ENDPOINT.REVIEW, option);\r\n  }\r\n}\r\n\r\nexport default RestaurantDataSource;\r\n","const CONFIG = {\r\n  BASE_URL: 'https://restaurant-api.dicoding.dev/',\r\n  BASE_IMG_URL: 'https://restaurant-api.dicoding.dev/images/',\r\n  CACHE_NAME: 'Restau-cache-V1',\r\n  DATABASE_NAME: 'restau-database',\r\n  DATABASE_VERSION: 1,\r\n  OBJECT_STORE_NAME: 'restaurants',\r\n};\r\n\r\nexport default CONFIG;\r\n","import 'regenerator-runtime';\r\nimport '../styles/main.css';\r\nimport '../styles/responsive.css';\r\nimport App from './views/app';\r\nimport swRegister from './utils/sw-register';\r\n\r\nconst app = new App({\r\n  button: document.querySelector('#hamburger'),\r\n  drawer: document.querySelector('ul'),\r\n  content: document.querySelector('#mainContent'),\r\n});\r\n\r\nwindow.addEventListener('hashchange', () => {\r\n  app.renderPage();\r\n});\r\n\r\nwindow.addEventListener('load', () => {\r\n  app.renderPage();\r\n  swRegister();\r\n});\r\n"],"names":["RestaurantItem","attachShadow","mode","item","this","_item","render","shadowRoot","innerHTML","CONFIG","pictureId","name","city","getColor","rating","id","description","HTMLElement","customElements","define","RestaurantList","restaurants","_restaurants","forEach","restaurantItem","document","createElement","restaurant","appendChild","i","DATABASE_NAME","DATABASE_VERSION","OBJECT_STORE_NAME","dbPromise","openDB","upgrade","database","createObjectStore","keyPath","getRestaurant","get","getAllRestaurant","getAll","putRestaurant","hasOwnProperty","put","deleteRestaurant","searchRestaurant","query","filter","jammedRestaurantTitle","toLowerCase","replace","jammedQuery","indexOf","LIST_RESTAURANT","DETAIL","REVIEW","fetch","API_ENDPOINT","response","json","responseJson","review","option","method","headers","body","JSON","stringify","BASE_URL","BASE_IMG_URL","CACHE_NAME","app","App","button","querySelector","drawer","content","window","addEventListener","renderPage","swRegister"],"sourceRoot":""}